////////////////////////////////////////////
// General Layout
////////////////////////////////////////////

html,
body {
	height: auto; // override reset as it conflicts with flex layout
}

html {
	// // possibly the best solve!
	// // might just use VW's instead for this site...after mobile breakpoint
	// @include mq('xxxlarge') {
	// 	font-size: 11px; // 12px too much, maybe 11px?
	// }
}

body {
	// smoothScrolling
	overflow-x: hidden;
	overflow-y: scroll;
	background-color: #1f1f1f; // match main-content bg
}

.page-loader {
	background: #fff;
	height: 100vh;
	width: 100vw;
	display: flex;
	justify-content: center;
	align-items: center;
	position: fixed;
	top: 0;
	bottom: 0;
	right: 0;
	left: 0;
	z-index: 999;
	will-change: transform;
	// transform: translateX(0);
	transform: translateY(0);
	transition: transform .8s cubic-bezier(.08,.03,.22,.87);
	.has-loaded & {
		// transform: translateX(100vw);
		transform: translateY(-100vh);
	}
}

.main-content {

	> * {
		opacity: 0;
		transition: opacity .5s ease .8s;
		.has-loaded & {
			opacity: 1;
		}
	}

	// display: flex;
	// align-items: center;
	// flex-direction: column;
	// justify-content: center;
	
	overflow: hidden;
	position: fixed;
	width: 100%;
	top: 0;
	left: 0;
	will-change: transform;
	backface-visibility: hidden;
	perspective: 1000;
	transform-style: preserve-3d;
	background-color: #1f1f1f; // #e8e5e2

	&::before {
		content: '';
		z-index: 100;
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		pointer-events: none; // ?
		background: url('../images/background-noise.png');
		animation: 0.2s infinite noise;
	}

	@keyframes noise {
		0%, 
		100% {
			background-position: 0 0;
		}
		10% {
			background-position: -5% -10%;
		}
		20% {
			background-position: -15% 5%;
		}
		30% {
			background-position: 7% -25%;
		}
		40% {
			background-position: 20% 25%;
		}
		50% {
			background-position: -25% 10%;
		}
		60% {
			background-position: 15% 5%;
		}
		70% {
			background-position: 0% 15%;
		}
		80% {
			background-position: 25% 35%;
		}
		90% {
			background-position: -10% 10%;
		}
	}
	// 

}

.container {
	margin: 0 auto;
	padding: 0 2rem;
	max-width: 142rem;
	// max-width: 150rem;
	// max-width: 156rem; // honestly only for the home page hero, comp is fucked..
	@include mq('medium') {
		padding: 0 4rem;
	}
	&--small {
		max-width: 82rem;
	}
}

// mostly used for zoom reveal on lazyloaded images
.image-wrapper {
	display: block;
	position: relative;
	overflow: hidden;
	padding-bottom: 100%;
	figure {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		background-size: cover;
		background-position: center;
		background-color: map-get($colors, brand-tertiary);
	}
}

////////////////////////////////////////////
// Link styles
////////////////////////////////////////////

a {
	color: map-get($colors, brand-offwhite);
	&:hover {

	}
}

// modal, login form, copy
.link {
	font-weight: 700;
	font-size: 1.4rem;
}